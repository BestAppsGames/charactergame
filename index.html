<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RNG TV Character Game</title>

<style>
:root{
 --bg:#0b1020;
 --card:#141a2e;
 --accent:#4f6cff;
 --gold:#ffd36a;
}
*{box-sizing:border-box;font-family:Segoe UI,system-ui}
body{
 margin:0;
 background:radial-gradient(circle at top,#1a235a,var(--bg));
 color:white;
 display:flex;
 justify-content:center;
 min-height:100vh
}
.app{width:520px;padding:20px}

h1{text-align:center;margin-bottom:4px}
.balance{text-align:center;font-size:18px;margin-bottom:10px}

.tabs{display:flex;gap:6px;margin-bottom:10px;flex-wrap:wrap}
.tabs button{
 flex:1;padding:10px;border:none;border-radius:10px;
 background:#1c2445;color:white;cursor:pointer
}
.tabs button.active{background:var(--accent)}

.panel{display:none}
.panel.active{display:block}

.card{
 background:var(--card);
 border-radius:18px;
 padding:22px;
 text-align:center;
 position:relative;
 overflow:hidden
}

.pullfx{
 position:absolute;inset:0;
 background:radial-gradient(circle,var(--accent),transparent);
 opacity:0;pointer-events:none
}
.pullfx.active{animation:pull .8s}
@keyframes pull{
 0%{opacity:0;transform:scale(.7)}
 50%{opacity:.9}
 100%{opacity:0;transform:scale(1.4)}
}

.character{
 font-size:26px;
 font-weight:900;
 margin:12px 0
}
.mutations{font-size:14px;opacity:.9}

button.main{
 width:100%;padding:16px;margin-top:14px;
 font-size:18px;border:none;border-radius:14px;
 background:linear-gradient(135deg,#4f6cff,#6d8bff);
 color:white;cursor:pointer
}

.list{
 background:var(--card);
 border-radius:16px;
 padding:14px;
 max-height:280px;
 overflow:auto
}
.entry{
 display:flex;justify-content:space-between;
 padding:6px;border-bottom:1px solid #2a325a;
 font-size:14px
}

.funny{filter:hue-rotate(60deg)}
.cooled{text-shadow:0 0 10px #7fdcff}
.watered{box-shadow:inset 0 0 10px #3fa9f5}
.voided{background:#12001f;border:1px solid #7a3cff}
.cracked{
 animation:crack .12s infinite alternate;
 text-shadow:0 0 25px #ff00ff
}
@keyframes crack{
 from{transform:translateX(-2px)}
 to{transform:translateX(2px)}
}
</style>
</head>

<body>
<div class="app">
<h1>ğŸ“º RNG TV CHARACTER GAME</h1>
<div class="balance">ğŸ’µ $<span id="money">0.00</span></div>

<div class="tabs">
 <button class="active" onclick="tab('pull',this)">ğŸ² Pull</button>
 <button onclick="tab('index',this)">ğŸ“œ Index</button>
 <button onclick="tab('shop',this)">ğŸ›’ Shop</button>
 <button onclick="tab('sell',this)">ğŸ’° Sell</button>
 <button id="adminTab" style="display:none" onclick="tab('admin',this)">ğŸ‘‘ Admin</button>
</div>

<div id="pull" class="panel active">
 <div class="card">
  <div class="pullfx" id="fx"></div>
  <div id="char" class="character">---</div>
  <div id="muts" class="mutations"></div>
  <button class="main" onclick="pull()">PULL</button>
 </div>
</div>

<div id="index" class="panel">
 <h3>Characters</h3>
 <div id="charIndex" class="list"></div>
 <h3>Mutations</h3>
 <div id="mutIndex" class="list"></div>
</div>

<div id="shop" class="panel">
 <div class="list">
  <div class="entry">
   <span>ğŸ€ Luck Upgrade</span>
   <button onclick="buyLuck()">$500</button>
  </div>
 </div>
</div>

<div id="sell" class="panel">
 <button class="main" onclick="sellAll()">SELL ALL</button>
 <div id="sellList" class="list"></div>
</div>

<div id="admin" class="panel">
 <h3>Admin Panel</h3>
 <input id="setMoney" placeholder="Set Money">
 <button onclick="adminSetMoney()">Apply</button>
</div>

<audio id="packSound" src="sounds/pack.mp3" preload="auto"></audio>

<script>
const characters=[
 {name:"SpongeBob",base:50,weight:1},
 {name:"Walter White",base:80,weight:1},
 {name:"Rick Sanchez",base:120,weight:.8},
 {name:"Batman",base:150,weight:.6},
 {name:"Jace Rainey",base:500,weight:0.000001}
];

const mutations=[
 {name:"Funny",mult:1.2,class:"funny"},
 {name:"Cooled",mult:1.5,class:"cooled"},
 {name:"Watered",mult:1.8,class:"watered"},
 {name:"Voided",mult:3,class:"voided"},
 {name:"Cracked",mult:1000,class:"cracked"}
];

let save=JSON.parse(localStorage.getItem("rngExport"))||{
 id:Math.floor(1000+Math.random()*9000),
 money:0,luck:1,
 owned:[],charIndex:[],mutIndex:[],
 admin:false
};

function persist(){
 localStorage.setItem("rngExport",JSON.stringify(save))
}

function pickChar(){
 let pool=[];
 characters.forEach(c=>{
  for(let i=0;i<c.weight*1000*save.luck;i++)pool.push(c)
 });
 return pool[Math.floor(Math.random()*pool.length)];
}

function pull(){
 fx.classList.add("active");
 setTimeout(()=>fx.classList.remove("active"),700);

 const c=pickChar();
 let muts=mutations.filter(()=>Math.random()<0.12*save.luck);
 let mult=muts.reduce((m,x)=>m*x.mult,1);

 char.textContent=muts.map(m=>m.name).join(" ")+" "+c.name;
 char.className="character "+muts.map(m=>m.class).join(" ");
 mutsEl.textContent=`Value: $${(c.base*mult).toFixed(2)}`;

 save.owned.push({name:c.name,value:c.base*mult});
 if(!save.charIndex.includes(c.name))save.charIndex.push(c.name);
 muts.forEach(m=>{if(!save.mutIndex.includes(m.name))save.mutIndex.push(m.name)});

 packSound.currentTime=0;
 packSound.playbackRate=.9+Math.random()*.2;
 packSound.play();

 persist();render();
}

function sellAll(){
 save.money+=save.owned.reduce((a,b)=>a+b.value,0);
 save.owned=[];
 persist();render();
}

function buyLuck(){
 if(save.money>=500){
  save.money-=500;
  save.luck+=.25;
  persist();render();
 }
}

function adminSetMoney(){
 save.money=parseFloat(setMoney.value)||save.money;
 persist();render();
}

function render(){
 money.textContent=save.money.toFixed(2);
 sellList.innerHTML=save.owned.map(o=>`<div class="entry">${o.name}<span>$${o.value.toFixed(2)}</span></div>`).join("");
 charIndex.innerHTML=save.charIndex.map(c=>`<div class="entry">${c}</div>`).join("");
 mutIndex.innerHTML=save.mutIndex.map(m=>`<div class="entry">${m}</div>`).join("");
}

function tab(id,btn){
 document.querySelectorAll(".panel").forEach(p=>p.classList.remove("active"));
 document.querySelectorAll(".tabs button").forEach(b=>b.classList.remove("active"));
 document.getElementById(id).classList.add("active");
 btn.classList.add("active");
}

render();
</script>
</div>
</body>
</html>